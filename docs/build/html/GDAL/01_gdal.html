

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Use GDAL/OGR for raster/vector operations &mdash; Spatial Ecology&#39;s code documentation 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/jupyter-sphinx.css" type="text/css" />
  <link rel="stylesheet" href="../_static/thebelab.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/thebelab-helper.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Introduction to Python" href="../PYTHON/01_Python_Intro.html" />
    <link rel="prev" title="Raster/Vector Processing using GDAL/OGR" href="../WEBSEMINAR/webseminar.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Spatial Ecology's code documentation
          

          
            
            <img src="../_static/SE_compact.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">GEO DATA</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../GEODATA/geomorpho90m/geomorpho90m.html">Geomorpho90m: technical documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">WEB SEMINARS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../WEBSEMINAR/webseminar.html">Raster/Vector Processing using GDAL/OGR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WEBSEMINAR/webseminar.html#image-processing-using-pktools">Image Processing using Pktools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WEBSEMINAR/webseminar.html#introduction-to-grass-gis">Introduction to GRASS GIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WEBSEMINAR/webseminar.html#geocomputation-with-high-performance-computing">GeoComputation with High Performance Computing</a></li>
</ul>
<p class="caption"><span class="caption-text">GDAL/OGR</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Use GDAL/OGR for raster/vector operations</a></li>
</ul>
<p class="caption"><span class="caption-text">PYTHON</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../PYTHON/01_Python_Intro.html">Introduction to Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PYTHON/02_Geo_Python.html">Python &amp; GeoComputation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Spatial Ecology's code documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Use GDAL/OGR for raster/vector operations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/GDAL/01_gdal.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Use-GDAL/OGR-for-raster/vector-operations">
<h1>Use GDAL/OGR for raster/vector operations<a class="headerlink" href="#Use-GDAL/OGR-for-raster/vector-operations" title="Permalink to this headline">Â¶</a></h1>
<p><strong>Working directory and scripting procedure</strong></p>
<p>Change directory</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cd $HOME
</pre></div>
</div>
<p>Download the data</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span>  <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">selvaje</span><span class="o">/</span><span class="n">SE_data</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>Code availability at</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">selvaje</span><span class="o">/</span><span class="n">SE_data</span><span class="o">/</span><span class="n">exercise</span><span class="o">/</span><span class="mi">01</span><span class="n">_gdal</span><span class="o">.</span><span class="n">ipynb</span>
</pre></div>
</div>
<p>Open the jupter-notebook</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cd $HOME/SE_data/exercise
jupter-notebook 01_gdal.ipynb
</pre></div>
</div>
<div class="line-block">
<div class="line"><strong>Explor the files</strong></div>
<div class="line">Change directory and list all the files with the extension .tif</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>ls <span class="nv">$HOME</span>/SE_data/exercise/geodata/*/*.tif
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
ls: cannot access &#39;/home/selv/SE_data/exercise/geodata/*/*.tif&#39;: No such file or directory
</pre></div></div>
</div>
<p>Retrive the characteristic of the one tif file</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>gdalinfo vegetation/ETmean08-11.tif
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Driver: GTiff/GeoTIFF
Files: vegetation/ETmean08-11.tif
Size is 720, 600
Coordinate System is:
GEOGCRS[&#34;WGS 84&#34;,
    DATUM[&#34;World Geodetic System 1984&#34;,
        ELLIPSOID[&#34;WGS 84&#34;,6378137,298.257223563,
            LENGTHUNIT[&#34;metre&#34;,1]]],
    PRIMEM[&#34;Greenwich&#34;,0,
        ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
    CS[ellipsoidal,2],
        AXIS[&#34;geodetic latitude (Lat)&#34;,north,
            ORDER[1],
            ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
        AXIS[&#34;geodetic longitude (Lon)&#34;,east,
            ORDER[2],
            ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
    ID[&#34;EPSG&#34;,4326]]
Data axis to CRS axis mapping: 2,1
Origin = (29.000000000000000,4.000000004000000)
Pixel Size = (0.008333333340000,-0.008333333340000)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  COMPRESSION=LZW
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  29.0000000,   4.0000000) ( 29d 0&#39; 0.00&#34;E,  4d 0&#39; 0.00&#34;N)
Lower Left  (  29.0000000,  -1.0000000) ( 29d 0&#39; 0.00&#34;E,  1d 0&#39; 0.00&#34;S)
Upper Right (  35.0000000,   4.0000000) ( 35d 0&#39; 0.00&#34;E,  4d 0&#39; 0.00&#34;N)
Lower Right (  35.0000000,  -1.0000000) ( 35d 0&#39; 0.00&#34;E,  1d 0&#39; 0.00&#34;S)
Center      (  32.0000000,   1.5000000) ( 32d 0&#39; 0.00&#34;E,  1d30&#39; 0.00&#34;N)
Band 1 Block=720x2 Type=Float32, ColorInterp=Gray
  NoData Value=-3.39999995214436425e+38
</pre></div></div>
</div>
<p>Visualize the image</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>/usr/bin/openev/bin/openev geodata/vegetation/ETmean08-11.tif
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Default software rendering mode (use -h if accelerated video card installed).

Gtk-WARNING **: Failed to load module &#34;libgail.so&#34;: libgail.so: cannot open shared object file: No such file or directory

Gtk-WARNING **: Failed to load module &#34;libatk-bridge.so&#34;: libatk-bridge.so: cannot open shared object file: No such file or directory
Loading tools from /usr/bin/openev/tools/Tool_Export.py
Loading tools from /usr/bin/openev/tools/Tool_ShapesGrid.py
Loading tools from /usr/bin/openev/tools/Tool_DriverList.py
</pre></div></div>
</div>
<div class="line-block">
<div class="line">Reply to the following questions:</div>
<div class="line">What is the pixel size?</div>
<div class="line">How do you get min and max pixel values?</div>
</div>
<p><strong>Understanding data type</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 38%" />
<col style="width: 20%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>Ranges of GDAL data types</p></th>
<th class="head"></th>
<th class="head"><p>Image Size</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GDAL data type</p></td>
<td><p>Minimum</p></td>
<td><p>Maximum</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Byte</p></td>
<td><p>0</p></td>
<td><p>255</p></td>
<td><p>39M</p></td>
</tr>
<tr class="row-even"><td><p>UInt16</p></td>
<td><p>0</p></td>
<td><p>65,535</p></td>
<td><p>78M</p></td>
</tr>
<tr class="row-odd"><td><p>Int16, CInt16</p></td>
<td><p>-32,768</p></td>
<td><p>32,767</p></td>
<td><p>78M</p></td>
</tr>
<tr class="row-even"><td><p>UInt32</p></td>
<td><p>0</p></td>
<td><p>4,294,967,295</p></td>
<td><p>155M</p></td>
</tr>
<tr class="row-odd"><td><p>Int32, CInt32</p></td>
<td><p>-2,147,483,648</p></td>
<td><p>2,147,483,647</p></td>
<td><p>155M</p></td>
</tr>
<tr class="row-even"><td><p>Float32, CFloat32</p></td>
<td><p>-3.4E38</p></td>
<td><p>3.4E38</p></td>
<td><p>155M</p></td>
</tr>
<tr class="row-odd"><td><p>Float64, CFloat64</p></td>
<td><p>-1.79E308</p></td>
<td><p>1.79E308</p></td>
<td><p>309M</p></td>
</tr>
</tbody>
</table>
<p><strong>Understanding NoData Value</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>gdalinfo -mm geodata/vegetation/ETmean08-11.tif
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Driver: GTiff/GeoTIFF
Files: geodata/vegetation/ETmean08-11.tif
Size is 720, 600
Coordinate System is:
GEOGCRS[&#34;WGS 84&#34;,
    DATUM[&#34;World Geodetic System 1984&#34;,
        ELLIPSOID[&#34;WGS 84&#34;,6378137,298.257223563,
            LENGTHUNIT[&#34;metre&#34;,1]]],
    PRIMEM[&#34;Greenwich&#34;,0,
        ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
    CS[ellipsoidal,2],
        AXIS[&#34;geodetic latitude (Lat)&#34;,north,
            ORDER[1],
            ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
        AXIS[&#34;geodetic longitude (Lon)&#34;,east,
            ORDER[2],
            ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
    ID[&#34;EPSG&#34;,4326]]
Data axis to CRS axis mapping: 2,1
Origin = (29.000000000000000,4.000000004000000)
Pixel Size = (0.008333333340000,-0.008333333340000)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  COMPRESSION=LZW
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  29.0000000,   4.0000000) ( 29d 0&#39; 0.00&#34;E,  4d 0&#39; 0.00&#34;N)
Lower Left  (  29.0000000,  -1.0000000) ( 29d 0&#39; 0.00&#34;E,  1d 0&#39; 0.00&#34;S)
Upper Right (  35.0000000,   4.0000000) ( 35d 0&#39; 0.00&#34;E,  4d 0&#39; 0.00&#34;N)
Lower Right (  35.0000000,  -1.0000000) ( 35d 0&#39; 0.00&#34;E,  1d 0&#39; 0.00&#34;S)
Center      (  32.0000000,   1.5000000) ( 32d 0&#39; 0.00&#34;E,  1d30&#39; 0.00&#34;N)
Band 1 Block=720x2 Type=Float32, ColorInterp=Gray
    Computed Min/Max=0.547,7.492
  NoData Value=-3.39999995214436425e+38
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>gdal_edit.py -a_nodata -9999 geodata/vegetation/ETmean08-11.tif
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>gdalinfo -mm geodata/vegetation/ETmean08-11.tif
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Driver: GTiff/GeoTIFF
Files: geodata/vegetation/ETmean08-11.tif
Size is 720, 600
Coordinate System is:
GEOGCRS[&#34;WGS 84&#34;,
    DATUM[&#34;World Geodetic System 1984&#34;,
        ELLIPSOID[&#34;WGS 84&#34;,6378137,298.257223563,
            LENGTHUNIT[&#34;metre&#34;,1]]],
    PRIMEM[&#34;Greenwich&#34;,0,
        ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
    CS[ellipsoidal,2],
        AXIS[&#34;geodetic latitude (Lat)&#34;,north,
            ORDER[1],
            ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
        AXIS[&#34;geodetic longitude (Lon)&#34;,east,
            ORDER[2],
            ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
    ID[&#34;EPSG&#34;,4326]]
Data axis to CRS axis mapping: 2,1
Origin = (29.000000000000000,4.000000004000000)
Pixel Size = (0.008333333340000,-0.008333333340000)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  COMPRESSION=LZW
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  29.0000000,   4.0000000) ( 29d 0&#39; 0.00&#34;E,  4d 0&#39; 0.00&#34;N)
Lower Left  (  29.0000000,  -1.0000000) ( 29d 0&#39; 0.00&#34;E,  1d 0&#39; 0.00&#34;S)
Upper Right (  35.0000000,   4.0000000) ( 35d 0&#39; 0.00&#34;E,  4d 0&#39; 0.00&#34;N)
Lower Right (  35.0000000,  -1.0000000) ( 35d 0&#39; 0.00&#34;E,  1d 0&#39; 0.00&#34;S)
Center      (  32.0000000,   1.5000000) ( 32d 0&#39; 0.00&#34;E,  1d30&#39; 0.00&#34;N)
Band 1 Block=720x2 Type=Float32, ColorInterp=Gray
    Computed Min/Max=-339999995214436424907732413799364296704.000,7.492
  NoData Value=-9999
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>gdal_edit.py -a_nodata -339999995214436424907732413799364296704.000    geodata/vegetation/ETmean08-11.tif
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>gdalinfo -mm geodata/vegetation/ETmean08-11.tif
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Driver: GTiff/GeoTIFF
Files: geodata/vegetation/ETmean08-11.tif
Size is 720, 600
Coordinate System is:
GEOGCRS[&#34;WGS 84&#34;,
    DATUM[&#34;World Geodetic System 1984&#34;,
        ELLIPSOID[&#34;WGS 84&#34;,6378137,298.257223563,
            LENGTHUNIT[&#34;metre&#34;,1]]],
    PRIMEM[&#34;Greenwich&#34;,0,
        ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
    CS[ellipsoidal,2],
        AXIS[&#34;geodetic latitude (Lat)&#34;,north,
            ORDER[1],
            ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
        AXIS[&#34;geodetic longitude (Lon)&#34;,east,
            ORDER[2],
            ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
    ID[&#34;EPSG&#34;,4326]]
Data axis to CRS axis mapping: 2,1
Origin = (29.000000000000000,4.000000004000000)
Pixel Size = (0.008333333340000,-0.008333333340000)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  COMPRESSION=LZW
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  29.0000000,   4.0000000) ( 29d 0&#39; 0.00&#34;E,  4d 0&#39; 0.00&#34;N)
Lower Left  (  29.0000000,  -1.0000000) ( 29d 0&#39; 0.00&#34;E,  1d 0&#39; 0.00&#34;S)
Upper Right (  35.0000000,   4.0000000) ( 35d 0&#39; 0.00&#34;E,  4d 0&#39; 0.00&#34;N)
Lower Right (  35.0000000,  -1.0000000) ( 35d 0&#39; 0.00&#34;E,  1d 0&#39; 0.00&#34;S)
Center      (  32.0000000,   1.5000000) ( 32d 0&#39; 0.00&#34;E,  1d30&#39; 0.00&#34;N)
Band 1 Block=720x2 Type=Float32, ColorInterp=Gray
    Computed Min/Max=0.547,7.492
  NoData Value=-3.39999995214436425e+38
</pre></div></div>
</div>
<p><strong>Calculate minimum and maximum values for all the images</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre>
<span></span>%%bash
<span class="k">for</span> file in geodata/vegetation/*.tif <span class="p">;</span> <span class="k">do</span>
gdalinfo  -mm  <span class="nv">$file</span>  <span class="p">|</span> grep Computed
<span class="k">done</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
    Computed Min/Max=0.547,7.492
    Computed Min/Max=0.209,3.332
    Computed Min/Max=0.000,9.738
    Computed Min/Max=0.000,4.220
</pre></div></div>
</div>
<div class="line-block">
<div class="line"><strong>Create a Coefficient of variation</strong></div>
<div class="line">GPPmean08-11.tif temporal mean of Gross Primary Productivity</div>
<div class="line">GPPstdev08-11.tif temporal standard deviation of Gross Primary Productivity</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[62]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre>
<span></span>%%bash
gdal_calc.py --type<span class="o">=</span>Float32 --overwrite  -A geodata/vegetation/GPPstdev08-11.tif -B  geodata/vegetation/GPPmean08-11.tif <span class="se">\</span>
--co<span class="o">=</span><span class="nv">COMPRESS</span><span class="o">=</span>DEFLATE,ZLEVEL<span class="o">=</span><span class="m">9</span>   --calc<span class="o">=</span><span class="s2">&quot;( A.astype(float) / ( B.astype(float) + 0.000000001 ) )&quot;</span> --outfile<span class="o">=</span>geodata/vegetation/GPPcv08-11.tif
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.. 0.. 0.. 1.. 1.. 1.. 2.. 2.. 2.. 3.. 3.. 3.. 4.. 4.. 4.. 5.. 5.. 5.. 6.. 6.. 6.. 7.. 7.. 7.. 8.. 8.. 8.. 9.. 9.. 9.. 10.. 10.. 10.. 11.. 11.. 11.. 12.. 12.. 12.. 13.. 13.. 13.. 14.. 14.. 14.. 15.. 15.. 15.. 16.. 16.. 16.. 17.. 17.. 17.. 18.. 18.. 18.. 19.. 19.. 19.. 20.. 20.. 20.. 21.. 21.. 21.. 22.. 22.. 22.. 23.. 23.. 23.. 24.. 24.. 24.. 25.. 25.. 25.. 26.. 26.. 26.. 27.. 27.. 27.. 28.. 28.. 28.. 29.. 29.. 29.. 30.. 30.. 30.. 31.. 31.. 31.. 32.. 32.. 32.. 33.. 33.. 33.. 34.. 34.. 34.. 35.. 35.. 35.. 36.. 36.. 36.. 37.. 37.. 37.. 38.. 38.. 38.. 39.. 39.. 39.. 40.. 40.. 40.. 41.. 41.. 41.. 42.. 42.. 42.. 43.. 43.. 43.. 44.. 44.. 44.. 45.. 45.. 45.. 46.. 46.. 46.. 47.. 47.. 47.. 48.. 48.. 48.. 49.. 49.. 49.. 50.. 50.. 50.. 51.. 51.. 51.. 52.. 52.. 52.. 53.. 53.. 53.. 54.. 54.. 54.. 55.. 55.. 55.. 56.. 56.. 56.. 57.. 57.. 57.. 58.. 58.. 58.. 59.. 59.. 59.. 60.. 60.. 60.. 61.. 61.. 61.. 62.. 62.. 62.. 63.. 63.. 63.. 64.. 64.. 64.. 65.. 65.. 65.. 66.. 66.. 66.. 67.. 67.. 67.. 68.. 68.. 68.. 69.. 69.. 69.. 70.. 70.. 70.. 71.. 71.. 71.. 72.. 72.. 72.. 73.. 73.. 73.. 74.. 74.. 74.. 75.. 75.. 75.. 76.. 76.. 76.. 77.. 77.. 77.. 78.. 78.. 78.. 79.. 79.. 79.. 80.. 80.. 80.. 81.. 81.. 81.. 82.. 82.. 82.. 83.. 83.. 83.. 84.. 84.. 84.. 85.. 85.. 85.. 86.. 86.. 86.. 87.. 87.. 87.. 88.. 88.. 88.. 89.. 89.. 89.. 90.. 90.. 90.. 91.. 91.. 91.. 92.. 92.. 92.. 93.. 93.. 93.. 94.. 94.. 94.. 95.. 95.. 95.. 96.. 96.. 96.. 97.. 97.. 97.. 98.. 98.. 98.. 99.. 99.. 99.. 100 - Done
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Warning 6: &#39;DEFLATE,ZLEVEL=9&#39; is an unexpected value for COMPRESS creation option of type string-select.
Warning 5: COMPRESS=DEFLATE,ZLEVEL=9 value not recognised, ignoring.
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span> gdalinfo -mm geodata/vegetation/GPPcv08-11.tif
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Driver: GTiff/GeoTIFF
Files: geodata/vegetation/GPPcv08-11.tif
Size is 720, 600
Coordinate System is:
GEOGCRS[&#34;WGS 84&#34;,
    DATUM[&#34;World Geodetic System 1984&#34;,
        ELLIPSOID[&#34;WGS 84&#34;,6378137,298.257223563,
            LENGTHUNIT[&#34;metre&#34;,1]]],
    PRIMEM[&#34;Greenwich&#34;,0,
        ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
    CS[ellipsoidal,2],
        AXIS[&#34;geodetic latitude (Lat)&#34;,north,
            ORDER[1],
            ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
        AXIS[&#34;geodetic longitude (Lon)&#34;,east,
            ORDER[2],
            ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
    ID[&#34;EPSG&#34;,4326]]
Data axis to CRS axis mapping: 2,1
Origin = (29.000000000000000,4.000000004000000)
Pixel Size = (0.008333333340000,-0.008333333340000)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  29.0000000,   4.0000000) ( 29d 0&#39; 0.00&#34;E,  4d 0&#39; 0.00&#34;N)
Lower Left  (  29.0000000,  -1.0000000) ( 29d 0&#39; 0.00&#34;E,  1d 0&#39; 0.00&#34;S)
Upper Right (  35.0000000,   4.0000000) ( 35d 0&#39; 0.00&#34;E,  4d 0&#39; 0.00&#34;N)
Lower Right (  35.0000000,  -1.0000000) ( 35d 0&#39; 0.00&#34;E,  1d 0&#39; 0.00&#34;S)
Center      (  32.0000000,   1.5000000) ( 32d 0&#39; 0.00&#34;E,  1d30&#39; 0.00&#34;N)
Band 1 Block=720x2 Type=Float32, ColorInterp=Gray
    Computed Min/Max=0.000,1.476
  NoData Value=3.40282346600000016e+38
</pre></div></div>
</div>
<div class="line-block">
<div class="line"><strong>Change pixel resolution</strong></div>
<div class="line">Looping trough the images</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre>
<span></span>%%bash
<span class="k">for</span> file in geodata/LST/LST_MOYDmax_month?.tif geodata/LST/LST_MOYDmax_month??.tif<span class="p">;</span> <span class="k">do</span>
  <span class="nv">filename</span><span class="o">=</span><span class="k">$(</span>basename <span class="nv">$file</span> .tif <span class="k">)</span>
  gdalwarp -overwrite -te <span class="m">29</span> -1 <span class="m">35</span>.0000000048 <span class="m">4</span>.000000004 -tr <span class="m">0</span>.008333333340000 <span class="m">0</span>.008333333340000 -co <span class="nv">COMPRESS</span><span class="o">=</span>DEFLATE -co <span class="nv">ZLEVEL</span><span class="o">=</span><span class="m">9</span> <span class="nv">$file</span> geodata/LST/<span class="si">${</span><span class="nv">filename</span><span class="si">}</span>_crop.tif
<span class="k">done</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Creating output file that is 720P x 600L.
Processing geodata/LST/LST_MOYDmax_month1.tif [1/1] : 0Using internal nodata values (e.g. -9999) for image geodata/LST/LST_MOYDmax_month1.tif.
Copying nodata values from source geodata/LST/LST_MOYDmax_month1.tif to destination geodata/LST/LST_MOYDmax_month1_crop.tif.
...10...20...30...40...50...60...70...80...90...100 - done.
Creating output file that is 720P x 600L.
Processing geodata/LST/LST_MOYDmax_month2.tif [1/1] : 0Using internal nodata values (e.g. -9999) for image geodata/LST/LST_MOYDmax_month2.tif.
Copying nodata values from source geodata/LST/LST_MOYDmax_month2.tif to destination geodata/LST/LST_MOYDmax_month2_crop.tif.
...10...20...30...40...50...60...70...80...90...100 - done.
Creating output file that is 720P x 600L.
Processing geodata/LST/LST_MOYDmax_month3.tif [1/1] : 0Using internal nodata values (e.g. -9999) for image geodata/LST/LST_MOYDmax_month3.tif.
Copying nodata values from source geodata/LST/LST_MOYDmax_month3.tif to destination geodata/LST/LST_MOYDmax_month3_crop.tif.
...10...20...30...40...50...60...70...80...90...100 - done.
Creating output file that is 720P x 600L.
Processing geodata/LST/LST_MOYDmax_month4.tif [1/1] : 0Using internal nodata values (e.g. -9999) for image geodata/LST/LST_MOYDmax_month4.tif.
Copying nodata values from source geodata/LST/LST_MOYDmax_month4.tif to destination geodata/LST/LST_MOYDmax_month4_crop.tif.
...10...20...30...40...50...60...70...80...90...100 - done.
Creating output file that is 720P x 600L.
Processing geodata/LST/LST_MOYDmax_month5.tif [1/1] : 0Using internal nodata values (e.g. -9999) for image geodata/LST/LST_MOYDmax_month5.tif.
Copying nodata values from source geodata/LST/LST_MOYDmax_month5.tif to destination geodata/LST/LST_MOYDmax_month5_crop.tif.
...10...20...30...40...50...60...70...80...90...100 - done.
Creating output file that is 720P x 600L.
Processing geodata/LST/LST_MOYDmax_month6.tif [1/1] : 0Using internal nodata values (e.g. -9999) for image geodata/LST/LST_MOYDmax_month6.tif.
Copying nodata values from source geodata/LST/LST_MOYDmax_month6.tif to destination geodata/LST/LST_MOYDmax_month6_crop.tif.
...10...20...30...40...50...60...70...80...90...100 - done.
Creating output file that is 720P x 600L.
Processing geodata/LST/LST_MOYDmax_month7.tif [1/1] : 0Using internal nodata values (e.g. -9999) for image geodata/LST/LST_MOYDmax_month7.tif.
Copying nodata values from source geodata/LST/LST_MOYDmax_month7.tif to destination geodata/LST/LST_MOYDmax_month7_crop.tif.
...10...20...30...40...50...60...70...80...90...100 - done.
Creating output file that is 720P x 600L.
Processing geodata/LST/LST_MOYDmax_month8.tif [1/1] : 0Using internal nodata values (e.g. -9999) for image geodata/LST/LST_MOYDmax_month8.tif.
Copying nodata values from source geodata/LST/LST_MOYDmax_month8.tif to destination geodata/LST/LST_MOYDmax_month8_crop.tif.
...10...20...30...40...50...60...70...80...90...100 - done.
Creating output file that is 720P x 600L.
Processing geodata/LST/LST_MOYDmax_month9.tif [1/1] : 0Using internal nodata values (e.g. -9999) for image geodata/LST/LST_MOYDmax_month9.tif.
Copying nodata values from source geodata/LST/LST_MOYDmax_month9.tif to destination geodata/LST/LST_MOYDmax_month9_crop.tif.
...10...20...30...40...50...60...70...80...90...100 - done.
Creating output file that is 720P x 600L.
Processing geodata/LST/LST_MOYDmax_month10.tif [1/1] : 0Using internal nodata values (e.g. -9999) for image geodata/LST/LST_MOYDmax_month10.tif.
Copying nodata values from source geodata/LST/LST_MOYDmax_month10.tif to destination geodata/LST/LST_MOYDmax_month10_crop.tif.
...10...20...30...40...50...60...70...80...90...100 - done.
Creating output file that is 720P x 600L.
Processing geodata/LST/LST_MOYDmax_month11.tif [1/1] : 0Using internal nodata values (e.g. -9999) for image geodata/LST/LST_MOYDmax_month11.tif.
Copying nodata values from source geodata/LST/LST_MOYDmax_month11.tif to destination geodata/LST/LST_MOYDmax_month11_crop.tif.
...10...20...30...40...50...60...70...80...90...100 - done.
Creating output file that is 720P x 600L.
Processing geodata/LST/LST_MOYDmax_month12.tif [1/1] : 0Using internal nodata values (e.g. -9999) for image geodata/LST/LST_MOYDmax_month12.tif.
Copying nodata values from source geodata/LST/LST_MOYDmax_month12.tif to destination geodata/LST/LST_MOYDmax_month12_crop.tif.
...10...20...30...40...50...60...70...80...90...100 - done.
</pre></div></div>
</div>
<div class="line-block">
<div class="line"><strong>Get value at one pixel/line image-location</strong></div>
<div class="line">Looping trough the images</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre>
<span></span>%%bash
<span class="k">for</span> file in geodata/LST/LST_MOYDmax_month?.tif geodata/LST/LST_MOYDmax_month??.tif<span class="p">;</span> <span class="k">do</span>
   gdallocationinfo -valonly <span class="nv">$file</span>  <span class="m">20</span> <span class="m">20</span>
<span class="k">done</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
34.0951232910156
36.324462890625
34.5248413085938
30.09130859375
26.7726745605469
25.4852294921875
24.9943237304688
25.3010864257812
25.9540100097656
26.5707092285156
28.4977416992188
30.7633972167969
</pre></div></div>
</div>
<div class="line-block">
<div class="line"><strong>Get value at lat/long image-location</strong></div>
<div class="line">Looping trough the images</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre>
<span></span>%%bash
<span class="k">for</span> file in geodata/LST/LST_MOYDmax_month?.tif geodata/LST/LST_MOYDmax_month??.tif<span class="p">;</span> <span class="k">do</span>
   gdallocationinfo -valonly -geoloc <span class="nv">$file</span>  <span class="m">33</span> <span class="m">2</span>
<span class="k">done</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
36.983154296875
40.4172973632812
38.7196350097656
33.0290832519531
29.9873352050781
29.6256713867188
29.9307861328125
30.1702880859375
30.9218444824219
30.4443359375
30.4249267578125
32.9085998535156
</pre></div></div>
</div>
<div class="line-block">
<div class="line"><strong>Get value at multiple lat/long image-location</strong></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre>
<span></span>%%bash
<span class="c1"># Create the lat long file</span>
<span class="nb">echo</span> <span class="m">32</span>.5 <span class="m">2</span>.5 &gt; geodata/LST/x_y.txt
<span class="nb">echo</span> <span class="m">31</span>.1 <span class="m">2</span>.1 &gt;&gt; geodata/LST/x_y.txt
<span class="c1"># looping trough the images</span>
<span class="k">for</span> file in geodata/LST/LST_MOYDmax_month?.tif geodata/LST/LST_MOYDmax_month??.tif<span class="p">;</span> <span class="k">do</span>
   gdallocationinfo -valonly -geoloc <span class="nv">$file</span> &lt; geodata/LST/x_y.txt
   <span class="nb">echo</span> <span class="s2">&quot;&quot;</span>
<span class="k">done</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
37.4022827148438
35.0345764160156

40.3694458007812
37.824951171875

38.5549926757812
36.6663208007812

32.7738952636719
32.6803283691406

29.0351257324219
30.0338134765625

29.025634765625
29.3355102539062

29.0183715820312
29.4237365722656

29.1660461425781
29.3502197265625

29.6674194335938
29.7001647949219

28.8177490234375
29.066650390625

29.2975463867188
29.015869140625

32.8586730957031
31.3289184570312

</pre></div></div>
</div>
<p><strong>From Image to text and from txt to image</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre>
<span></span>%%bash
<span class="c1"># from tif to 3 col txt XYZ</span>
gdal_translate -of  XYZ   geodata/vegetation/ETmean08-11_crop.tif geodata/vegetation/ETmean08-11_crop.txt
<span class="c1"># masking</span>
awk <span class="s1">&#39;{if ($3&gt;2 &amp;&amp; $3&lt;4) {print $1,$2,50 } else {print}}&#39;</span> geodata/vegetation/ETmean08-11_crop.txt &gt; geodata/vegetation/ETmean08-11_crop_trh.txt
<span class="c1"># back to tif</span>
gdal_translate -co <span class="nv">COMPRESS</span><span class="o">=</span>DEFLATE -co <span class="nv">ZLEVEL</span><span class="o">=</span><span class="m">9</span>  -ot Byte geodata/vegetation/ETmean08-11_crop_trh.txt geodata/vegetation/ETmean08-11_crop_trh.tif
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Input file size is 240, 240
0...10...20...30...40...50...60...70...80...90...100 - done.
Input file size is 240, 240
0...10...20...30...40...50...60...70...80...90...100 - done.
</pre></div></div>
</div>
<p><strong>The use of VRT to stack images and tiling</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre>
<span></span>%%bash
<span class="c1"># stck the tif</span>
gdalbuildvrt -overwrite -separate geodata/vegetation/stack.vrt geodata/vegetation/ETmean08-11.tif geodata/vegetation/ETstdev08-11.tif
gdalinfo geodata/vegetation/stack.vrt
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0...10...20...30...40...50...60...70...80...90...100 - done.
Driver: VRT/Virtual Raster
Files: geodata/vegetation/stack.vrt
       geodata/vegetation/ETmean08-11.tif
       geodata/vegetation/ETstdev08-11.tif
Size is 720, 600
Coordinate System is:
GEOGCRS[&#34;WGS 84&#34;,
    DATUM[&#34;World Geodetic System 1984&#34;,
        ELLIPSOID[&#34;WGS 84&#34;,6378137,298.257223563,
            LENGTHUNIT[&#34;metre&#34;,1]]],
    PRIMEM[&#34;Greenwich&#34;,0,
        ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
    CS[ellipsoidal,2],
        AXIS[&#34;geodetic latitude (Lat)&#34;,north,
            ORDER[1],
            ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
        AXIS[&#34;geodetic longitude (Lon)&#34;,east,
            ORDER[2],
            ANGLEUNIT[&#34;degree&#34;,0.0174532925199433]],
    ID[&#34;EPSG&#34;,4326]]
Data axis to CRS axis mapping: 2,1
Origin = (29.000000000000000,4.000000004000000)
Pixel Size = (0.008333333340000,-0.008333333340000)
Corner Coordinates:
Upper Left  (  29.0000000,   4.0000000) ( 29d 0&#39; 0.00&#34;E,  4d 0&#39; 0.00&#34;N)
Lower Left  (  29.0000000,  -1.0000000) ( 29d 0&#39; 0.00&#34;E,  1d 0&#39; 0.00&#34;S)
Upper Right (  35.0000000,   4.0000000) ( 35d 0&#39; 0.00&#34;E,  4d 0&#39; 0.00&#34;N)
Lower Right (  35.0000000,  -1.0000000) ( 35d 0&#39; 0.00&#34;E,  1d 0&#39; 0.00&#34;S)
Center      (  32.0000000,   1.5000000) ( 32d 0&#39; 0.00&#34;E,  1d30&#39; 0.00&#34;N)
Band 1 Block=128x128 Type=Float32, ColorInterp=Undefined
  NoData Value=-3.39999995214436387e+38
Band 2 Block=128x128 Type=Float32, ColorInterp=Undefined
  NoData Value=-3.39999995214436387e+38
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre>
<span></span>%%bash
<span class="c1"># split in tiles</span>
gdal_translate -srcwin <span class="m">0</span>     <span class="m">0</span> <span class="m">360</span> <span class="m">300</span> geodata/vegetation/stack.vrt geodata/vegetation/stack_UL.tif
gdal_translate -srcwin <span class="m">0</span>   <span class="m">300</span> <span class="m">360</span> <span class="m">300</span> geodata/vegetation/stack.vrt geodata/vegetation/stack_UR.tif
gdal_translate -srcwin <span class="m">360</span>   <span class="m">0</span> <span class="m">360</span> <span class="m">300</span> geodata/vegetation/stack.vrt geodata/vegetation/stack_LL.tif
gdal_translate -srcwin <span class="m">360</span> <span class="m">300</span> <span class="m">360</span> <span class="m">300</span> geodata/vegetation/stack.vrt geodata/vegetation/stack_LR.tif

<span class="c1"># recompose the image</span>
gdalbuildvrt -overwrite geodata/vegetation/ETmosaic.vrt geodata/vegetation/stack_UL.tif geodata/vegetation/stack_UR.tif geodata/vegetation/stack_LL.tif geodata/vegetation/stack_LR.tif
gdal_translate -co <span class="nv">COMPRESS</span><span class="o">=</span>DEFLATE -co <span class="nv">ZLEVEL</span><span class="o">=</span><span class="m">9</span> geodata/vegetation/ETmosaic.vrt geodata/vegetation/ETmosaic.tif
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Input file size is 720, 600
0...10...20...30...40...50...60...70...80...90...100 - done.
Input file size is 720, 600
0...10...20...30...40...50...60...70...80...90...100 - done.
Input file size is 720, 600
0...10...20...30...40...50...60...70...80...90...100 - done.
Input file size is 720, 600
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
Input file size is 720, 600
0...10...20...30...40...50...60...70...80...90...100 - done.
</pre></div></div>
</div>
<p><strong>Create shp border tiles</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[60]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre>
<span></span>%%bash
rm -f geodata/vegetation/tiles.*
gdaltindex  geodata/vegetation/tiles.shp  geodata/vegetation/stack_??.tif
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Creating new index file...
</pre></div></div>
</div>
<p><strong>Surface distance/buffer</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre>
<span></span>%%bash
<span class="c1"># Continues distance surface</span>
gdal_proximity.py -co <span class="nv">COMPRESS</span><span class="o">=</span>DEFLATE -co <span class="nv">ZLEVEL</span><span class="o">=</span><span class="m">9</span> -values <span class="m">0</span> -distunits PIXEL -ot UInt32 geodata/vegetation/ETmean08-11_crop_trh.tif geodata/vegetation/ETmean08-11_crop_proximity.tif
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0...10...20...30...40...50...60...70...80...90...100 - done.
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre>
<span></span>%%bash
<span class="c1"># Fix buffer surface</span>
gdal_proximity.py -fixed-buf-val <span class="m">4</span> -maxdist <span class="m">4</span> -nodata <span class="m">10</span> -co <span class="nv">COMPRESS</span><span class="o">=</span>DEFLATE -co <span class="nv">ZLEVEL</span><span class="o">=</span><span class="m">9</span> -values <span class="m">0</span> -distunits PIXEL -ot Byte geodata/vegetation/ETmean08-11_crop_trh.tif geodata/vegetation/ETmean08-11_crop_buffer.tif
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0...10...20...30...40...50...60...70...80...90...100 - done.
</pre></div></div>
</div>
<p><strong>Topography variables</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre>
<span></span>%%bash
<span class="c1"># calculate  slope</span>
gdaldem slope -s <span class="m">111120</span> -co <span class="nv">COMPRESS</span><span class="o">=</span>DEFLATE -co <span class="nv">ZLEVEL</span><span class="o">=</span><span class="m">9</span> geodata/dem/GMTED2010.tif geodata/dem/slope.tif

<span class="c1"># calculate  apect</span>
gdaldem aspect -zero_for_flat -co <span class="nv">COMPRESS</span><span class="o">=</span>DEFLATE -co <span class="nv">ZLEVEL</span><span class="o">=</span><span class="m">9</span> geodata/dem/GMTED2010.tif geodata/dem/aspect.tif

<span class="c1"># calculate  Terrain Ruggedness Index TRI</span>
gdaldem TRI -co <span class="nv">COMPRESS</span><span class="o">=</span>DEFLATE -co <span class="nv">ZLEVEL</span><span class="o">=</span><span class="m">9</span> geodata/dem/GMTED2010.tif geodata/dem/tri.tif

<span class="c1"># calculate  Topographic Position Index TPI</span>
gdaldem TPI -co <span class="nv">COMPRESS</span><span class="o">=</span>DEFLATE -co <span class="nv">ZLEVEL</span><span class="o">=</span><span class="m">9</span> geodata/dem/GMTED2010.tif geodata/dem/tpi.tif

<span class="c1"># calculate  Roughness</span>
gdaldem roughness -co <span class="nv">COMPRESS</span><span class="o">=</span>DEFLATE -co <span class="nv">ZLEVEL</span><span class="o">=</span><span class="m">9</span> geodata/dem/GMTED2010.tif geodata/dem/roughness.tif
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
0...10...20...30...40...50...60...70...80...90...100 - done.
</pre></div></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../PYTHON/01_Python_Intro.html" class="btn btn-neutral float-right" title="Introduction to Python" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../WEBSEMINAR/webseminar.html" class="btn btn-neutral float-left" title="Raster/Vector Processing using GDAL/OGR" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Giuseppe Amatulli

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>